Course: Mastering Doctrine Relations! Tutorial

Adding a Comment Entity

Для запуска проекта используем встроенный сервер
        php bin/console server:run


*** Creating the Comment Entity ***
 В каталоге src/Entity  пока что единственная сущность Article.

 Создадим сущность Comment с помощью консольного приложения.
        php bin/console make:entity
   Будет небольшой интерактив
             Class name of the entity to create or update (e.g. OrangeKangaroo):
             > Comment

             created: src/Entity/Comment.php
             created: src/Repository/CommentRepository.php

             Entity generated! Now let's add some fields!
             You can always add more fields later manually or by re-running this command.

             New property name (press <return> to stop adding fields):
             > authorName

             Field type (enter ? to see all types) [string]:
             >

             Field length [255]:
             >

             Can this field be null in the database (nullable) (yes/no) [no]:
             >

             updated: src/Entity/Comment.php


             Add another property? Enter the property name (or press <return> to stop adding fields):
             > content

             Field type (enter ? to see all types) [string]:
             > text

             Can this field be null in the database (nullable) (yes/no) [no]:
             >

             updated: src/Entity/Comment.php

             Add another property? Enter the property name (or press <return> to stop adding fields):
             >



              Success!


             Next: When you're ready, create a migration with make:migration

 В результате интерактива будет создана сущность
            /src/Entity/Comment.php
    c 3-мя свойствами
      id, authorName, content   и сетеры-гетеры к ним.

 И в самом верху класса добавим Трейт.
            class Comment
            {
                use TimestampableEntity;
                .......
 тогда у нас добавятся еще 2 свойства
     createdAt  и   updatedAt


Следующим шагом создаем файл миграции
        bin/console make:migration
 И в итоге применяем миграции
        php bin/console doctrine:migrations:migrate

 В результате в БД создатся новая таблица  Comment.










