Saving Relations

 Как заполнять свойство $article  в сущности Comment ?
 Как нам связать Comment  и  Article ?

 В классе  ArticleFixtures  будем создавать комментарии для статей.
                       $comment1 = new Comment();
                            $comment1->setAuthorName('Mike Ferengi');
                            $comment1->setContent('I ate a normal rock once. It did NOT taste like bacon!');
                            $comment1->setArticle($article);
                            $manager->persist($comment1);

                            $comment2 = new Comment();
                            $comment2->setAuthorName('Mike Ferengi');
                            $comment2->setContent('Woohoo! I\'m going on an all-asteroid diet!');
                            $comment2->setArticle($article);
                            $manager->persist($comment2);


*** JoinColumn & Required Foreign Key Columns ***

*** Setting the Article on the Comment ***
 Для связи в коде PHP мы просто передаем нужный объект Article, без всяких $article->getId();




 Доктрина - слой абстракции, который позволяет не думать о том, что за кулисами есть БД.
  Позволяет связывать объекты PHP, не беспокоясь о    foreign key columns.


Для загрузки фейковых данных
        php bin/console doctrine:fixtures:load

И для проверки, что данные созданы, можем запросить содержимое, прямо из консоли
        php bin/console doctrine:query:sql 'SELECT * FROM comment'

В результате увидим 20 комментариев по 2 к 10 статьям.






