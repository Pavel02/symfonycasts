Symfony4 Fumdamenals: Services Config and Environments


Запускаем встроенный сервер
        bin/console server:run

Переходим в браузере на       localhost:8000

Какая самая важная часть в Симфони? Если вы ответили Фабина, то... технически вы правы, но правильный ответ Сервисы. :)

Сервис - это объект, который что-то делает. сервис Twig   сервис Logger.


Чтобы увидеть все доступные сервисы, в консоли набираем
        bin/console debug:autowiring

Использование сервиса например в методе нашего контроллера
        public function toggleArticleHeart(LoggerInterface $logger)

Symfony видит по тайпхинтингу, что в $logger надо передать обЪект класса LoggerInterface

Сервисы хранятся внутри другого объекта, называемого    Контейнер    и каждый сервис имеет внутренне имя, наподобие как роуты.

И что помещает эти Сервисы в контейнер?  Бандлы !

Бандлы - это система плагинов Симфони.


У нас в проекте есть файл   /config/bundles.php
                <?php

                return [
                    Symfony\Bundle\FrameworkBundle\FrameworkBundle::class => ['all' => true],
                    Symfony\Bundle\WebServerBundle\WebServerBundle::class => ['dev' => true],
                    Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle::class => ['all' => true],
                    Symfony\Bundle\TwigBundle\TwigBundle::class => ['all' => true],
                    Symfony\Bundle\WebProfilerBundle\WebProfilerBundle::class => ['dev' => true, 'test' => true],
                    Symfony\Bundle\MonologBundle\MonologBundle::class => ['all' => true],
                    Symfony\Bundle\DebugBundle\DebugBundle::class => ['dev' => true, 'test' => true],
                ];

При установки зависимостей с помощью Flex система рецептов по мере необходимости будет обновлять этот файл новыми Бандлами.

Symfony можно рассматривать как набор Сервисов. И бандлы подготавливают эти сервисные объекты и кладут их в контейнер.

Например, Монолог Бандл отвечает, чтобы предоставить нам Сервис Logger.

Бандлы также могут делать другие вещи - например добавлять роуты. Но самая главная работа Бандлов - это предоставлять Сервисы.
 Если вы добавляете Бандл, то вы получаете еще больше Сервисов. Ну а Сервисы - это инструменты.








